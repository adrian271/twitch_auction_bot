<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Auction Layout</title>
    <style>
      @font-face {
        font-family: '8bit';
        src: url('./8bit.ttf') format('truetype'); /* Safari, Android, iOS */
      }

      html,
      body {
        background: rgba(255, 255, 255, 0);
        font-family: '8bit', monospace;
        font-size: 48px;
        color: white;
      }
    </style>
  </head>
  <body>
    <div>
      <span id="bid"></span>
    </div>
    <script>
      let getBid = () => {
        fetch('/data')
          .then((response) => response.json())
          .then((data) => {
            console.log(data)
            let bid = data.highestBid.toFixed(2)
            let bidder = data.highestBidder
            let str = `${bidder} has bid $${bid} to Marco's Mark, thank you!`
            document.querySelector('#bid').innerText = str
          })
          .catch((err) => console.log(err))
        setTimeout(getBid, 10 * 1000)
      }
      getBid()
    </script>
  </body>
</html>
